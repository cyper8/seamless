!function(e){function n(o){if(t[o])return t[o].exports;var r=t[o]={exports:{},id:o,loaded:!1};return e[o].call(r.exports,r,r.exports,n),r.loaded=!0,r.exports}var t={};return n.m=e,n.c=t,n.p="",n(0)}([function(e,n,t){function o(e,n){var t=c,o=i,r=e,a=t(n),s=o.getItem(r);if(null==s)o.setItem(r,a),o.setItem(a,n);else{if(s==a)return s;o.removeItem(s),o.setItem(r,a),o.setItem(a,n)}return a}function r(e,n,t){var r;r=o(e,n.data),t(window.Seamless[e]=Object.defineProperties({connection:n.connection},{route:{value:e},hash:{value:r},data:{get:function(){return JSON.parse(i.getItem(this.hash))},set:function(e){var t="string"!=typeof e?JSON.stringify(e):e;n.post(t)}}}))}var i=t(1)(),c=t(2)();window.Seamless={storage:i,getByRoute:function(e){return this[c(e)]},connect:function(e,n){var o=c(e);if(this[o])n(this[o]);else{var a;if(null!==(a=i.getItem(o))&&n(this[o]={route:o,hash:a,get data(){return JSON.parse(i.getItem(this.hash))},set data(e){},connection:{disconnect:function(){delete window.Seamless[this.route]}}}),Worker){var s;!function n(i){s=new Worker(URL.createObjectURL(new Blob(t(3).code(e)))),s.onerror=function(e){s.terminate(),console.error(e)},s.onmessage=function(e){"false"!=e.data?r(o,{data:e.data,post:s.postMessage.bind(s),connection:{disconnect:s.terminate,reconnect:function(){s.terminate(),n(i)}}},i):alert("Connection lost. Reconnection constantly failing. Try reloading page.")}}(n)}else!function(e,n){e.search(/^wss?:\/\//i)<0||!WebSocket?t(5)(e,n):t(4)(e,n)}(e,function(e){e?r(o,e,n):alert("Connection lost. Reconnection constantly failing. Try reloading page.")})}},disconnect:function(e){window.Seamless[c(e)].connection.disconnect(),delete window.Seamless[c(e)]}}},function(e,n){e.exports=function(){function e(e){try{var n=window[e],t="__storage_test__";return n.setItem(t,t),n.removeItem(t),!0}catch(e){return!1}}return e("localStorage")?window.localStorage:Object.defineProperties(new Object,{setItem:{value:function(e,n){var t=new CustomEvent("storage",{detail:{key:e,oldValue:this[e],newValue:n,storageArea:this}});return this[e]=n,(window||self).dispatchEvent(t),n}},getItem:{value:function(e){return this[e]||null}},removeItem:{value:function(e){return delete this[e],this}},key:{value:function(e){var n,t=0;for(n in this){if(t==e)return this[n];t++}}},clear:{value:function(){var e;for(e in this)this.removeItem(e);return this}},length:{get:function(){var e,n=0;for(e in this)n++;return n}}})}},function(e,n){e.exports=function(){function e(e,n){var t=(65535&e)+(65535&n),o=(e>>16)+(n>>16)+(t>>16);return o<<16|65535&t}function n(e,n){return e<<n|e>>>32-n}function t(t,o,r,i,c,a){return e(n(e(e(o,t),e(i,a)),c),r)}function o(e,n,o,r,i,c,a){return t(n&o|~n&r,e,n,i,c,a)}function r(e,n,o,r,i,c,a){return t(n&r|o&~r,e,n,i,c,a)}function i(e,n,o,r,i,c,a){return t(n^o^r,e,n,i,c,a)}function c(e,n,o,r,i,c,a){return t(o^(n|~r),e,n,i,c,a)}function a(n,t){n[t>>5]|=128<<t%32,n[(t+64>>>9<<4)+14]=t;var a,s,u,l,f,d=1732584193,h=-271733879,g=-1732584194,v=271733878;for(a=0;a<n.length;a+=16)s=d,u=h,l=g,f=v,d=o(d,h,g,v,n[a],7,-680876936),v=o(v,d,h,g,n[a+1],12,-389564586),g=o(g,v,d,h,n[a+2],17,606105819),h=o(h,g,v,d,n[a+3],22,-1044525330),d=o(d,h,g,v,n[a+4],7,-176418897),v=o(v,d,h,g,n[a+5],12,1200080426),g=o(g,v,d,h,n[a+6],17,-1473231341),h=o(h,g,v,d,n[a+7],22,-45705983),d=o(d,h,g,v,n[a+8],7,1770035416),v=o(v,d,h,g,n[a+9],12,-1958414417),g=o(g,v,d,h,n[a+10],17,-42063),h=o(h,g,v,d,n[a+11],22,-1990404162),d=o(d,h,g,v,n[a+12],7,1804603682),v=o(v,d,h,g,n[a+13],12,-40341101),g=o(g,v,d,h,n[a+14],17,-1502002290),h=o(h,g,v,d,n[a+15],22,1236535329),d=r(d,h,g,v,n[a+1],5,-165796510),v=r(v,d,h,g,n[a+6],9,-1069501632),g=r(g,v,d,h,n[a+11],14,643717713),h=r(h,g,v,d,n[a],20,-373897302),d=r(d,h,g,v,n[a+5],5,-701558691),v=r(v,d,h,g,n[a+10],9,38016083),g=r(g,v,d,h,n[a+15],14,-660478335),h=r(h,g,v,d,n[a+4],20,-405537848),d=r(d,h,g,v,n[a+9],5,568446438),v=r(v,d,h,g,n[a+14],9,-1019803690),g=r(g,v,d,h,n[a+3],14,-187363961),h=r(h,g,v,d,n[a+8],20,1163531501),d=r(d,h,g,v,n[a+13],5,-1444681467),v=r(v,d,h,g,n[a+2],9,-51403784),g=r(g,v,d,h,n[a+7],14,1735328473),h=r(h,g,v,d,n[a+12],20,-1926607734),d=i(d,h,g,v,n[a+5],4,-378558),v=i(v,d,h,g,n[a+8],11,-2022574463),g=i(g,v,d,h,n[a+11],16,1839030562),h=i(h,g,v,d,n[a+14],23,-35309556),d=i(d,h,g,v,n[a+1],4,-1530992060),v=i(v,d,h,g,n[a+4],11,1272893353),g=i(g,v,d,h,n[a+7],16,-155497632),h=i(h,g,v,d,n[a+10],23,-1094730640),d=i(d,h,g,v,n[a+13],4,681279174),v=i(v,d,h,g,n[a],11,-358537222),g=i(g,v,d,h,n[a+3],16,-722521979),h=i(h,g,v,d,n[a+6],23,76029189),d=i(d,h,g,v,n[a+9],4,-640364487),v=i(v,d,h,g,n[a+12],11,-421815835),g=i(g,v,d,h,n[a+15],16,530742520),h=i(h,g,v,d,n[a+2],23,-995338651),d=c(d,h,g,v,n[a],6,-198630844),v=c(v,d,h,g,n[a+7],10,1126891415),g=c(g,v,d,h,n[a+14],15,-1416354905),h=c(h,g,v,d,n[a+5],21,-57434055),d=c(d,h,g,v,n[a+12],6,1700485571),v=c(v,d,h,g,n[a+3],10,-1894986606),g=c(g,v,d,h,n[a+10],15,-1051523),h=c(h,g,v,d,n[a+1],21,-2054922799),d=c(d,h,g,v,n[a+8],6,1873313359),v=c(v,d,h,g,n[a+15],10,-30611744),g=c(g,v,d,h,n[a+6],15,-1560198380),h=c(h,g,v,d,n[a+13],21,1309151649),d=c(d,h,g,v,n[a+4],6,-145523070),v=c(v,d,h,g,n[a+11],10,-1120210379),g=c(g,v,d,h,n[a+2],15,718787259),h=c(h,g,v,d,n[a+9],21,-343485551),d=e(d,s),h=e(h,u),g=e(g,l),v=e(v,f);return[d,h,g,v]}function s(e){var n,t="";for(n=0;n<32*e.length;n+=8)t+=String.fromCharCode(e[n>>5]>>>n%32&255);return t}function u(e){var n,t=[];for(t[(e.length>>2)-1]=void 0,n=0;n<t.length;n+=1)t[n]=0;for(n=0;n<8*e.length;n+=8)t[n>>5]|=(255&e.charCodeAt(n/8))<<n%32;return t}function l(e){return s(a(u(e),8*e.length))}function f(e,n){var t,o,r=u(e),i=[],c=[];for(i[15]=c[15]=void 0,r.length>16&&(r=a(r,8*e.length)),t=0;t<16;t+=1)i[t]=909522486^r[t],c[t]=1549556828^r[t];return o=a(i.concat(u(n)),512+8*n.length),s(a(c.concat(o),640))}function d(e){var n,t,o="0123456789abcdef",r="";for(t=0;t<e.length;t+=1)n=e.charCodeAt(t),r+=o.charAt(n>>>4&15)+o.charAt(15&n);return r}function h(e){return unescape(encodeURIComponent(e))}function g(e){return l(h(e))}function v(e){return d(g(e))}function m(e,n){return f(h(e),h(n))}function p(e,n){return d(m(e,n))}return function(e,n,t){return n?t?m(n,e):p(n,e):t?g(e):v(e)}}},function(module,exports,__webpack_require__){function workerFunction(e){function n(e){e?(t=e.post,postMessage(e.data)):postMessage("false")}var t;onmessage=function(e){t?t(e.data||e):postMessage("")},e.search(/^wss?:\/\//i)<0||!WebSocket?__webpack_require__(5)(e,n):__webpack_require__(4)(e,n)}module.exports.code=function(url){for(var code=workerFunction.toString(),re=/([a-zA-Z_]*require[_]*)\(([^()]*)\)[^({ ;]*/m,m;null!==(m=re.exec(code));){m.index===re.lastIndex&&re.lastIndex++;var p=code.split(m[0]),i=eval(m[0]+".toString()");code=p.join("("+i+")")}return["("+code+')("'+url+'")']}},function(e,n){e.exports=function(e,n){var t,o,r,i=0,c=0;!function n(a){function s(e){a({data:e,post:t.send.bind(t),connection:{disconnect:function(){r&&clearInterval(r),t.close()},reconnect:t.close}})}t=new WebSocket(e),o=setTimeout(t.close,9e3),console.log("New connection to "+e),t.onclose=function(n){console.log("Connection to "+e+" closed.")},t.onopen=function(e){clearTimeout(o),i=0,e.data&&s(e.data)},t.onerror=function(e){console.error(e),c++,c>10&&(t.close(),console.log("Too many errors. Reconnecting"),c=0)},t.onmessage=function(e){s(e.data)},r||(r=setInterval(function(){t&&3==t.readyState&&(n(a),i++),i>5&&(clearInterval(r),alert("Connection lost. Reconnection constantly failing. Try reloading page.")||a(!1))},1e4))}(n)}},function(e,n){e.exports=function(e,n){var t=function(e,n,t){var o=n&&""!=n?"POST":"GET",r=new XMLHttpRequest;r.addEventListener("readystatechange",function(e){4==this.readyState&&(200==this.status?t(JSON.stringify(this.response)):console.error(this.status+": "+this.response.toString()))}),r.timeout=3e4,r.addEventListener("timeout",function(){this.readyState>0&&this.readyState<4&&this.abort(),console.error("Request timed out")}),r.responseType="json",(r.executesession=function(){r.open(o,encodeURI(e),!0),r.send(""|n)})()};e=e.search(/^https?:\/\//i)<0?e.replace(/^[^:]+:/i,"http:"):e;var o,r,i=0;!function c(a){function s(e){return a({data:e,post:u.bind(this),connection:{disconnect:function(){clearInterval(o),r=null},reconnect:function(){clearInterval(o),r=null,c(a)}}})}function u(o){t(e,o,n)}o=setInterval(function(){try{r=t(e,"",s)}catch(e){console.error(e),i++,i>5&&(clearTimeout(o),i=0,r=null,alert("Connection lost. Reconnection constantly failing. Try reloading page.")||a(!1))}},3e3)}(n)}}]);
//# sourceMappingURL=seamless.bundle.js.map