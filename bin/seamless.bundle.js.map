{"version":3,"sources":["webpack:///webpack/bootstrap 403a432337d5a20e6158","webpack:///./src/seamless.js","webpack:///./src/storage.js","webpack:///./src/md5.js","webpack:///./src/sync.js","webpack:///./src/worker.js","webpack:///./src/socket.js","webpack:///./src/poller.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;ACtCA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,kBAAiB,0BAA0B;AAC3C;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH,0BAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,QAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX;;AAEA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe;AACf,oCAAmC,UAAU;AAC7C;AACA,YAAW;AACX,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA,kBAAiB;AACjB;AACA;AACA,YAAW;AACX;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH,kBAAiB;AACjB;;;AAGA;AACA;AACA,EAAC,E;;;;;;AC7LD;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA6C;AAC7C;AACA;AACA;AACA;AACA,aAAY;AACZ;AACA;AACA;AACA,U;AACA,QAAO;AACP;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA,G;;;;;;AC3EA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,cAAc;AACjC;AACA;;AAEA;AACA;AACA,oBAAmB,mBAAmB;AACtC;AACA;;AAEA;AACA;AACA;AACA,oBAAmB,cAAc;AACjC,oBAAmB,kBAAkB;AACrC;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,QAAQ;AAC3B;AACA;;AAEA;AACA;AACA;AACA;AACA,oBAAmB,cAAc;AACjC;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,E;;;;;;ACpGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,kBAAiB;;AAEjB;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb,2DAA0D,yBAAyB;AACnF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;;;;;AC3IA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,oDAAmD,EAAE;AACrD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACrCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA,yCAAwC;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;;;;;;;ACvDA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA","file":"seamless.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 403a432337d5a20e6158","/* global URL, Blob, Worker */\n//var getWorkerCode = require(\"worker.js\");\nvar storage = require(\"./storage.js\")(),\n    md5 = require(\"./md5.js\")(),\n    sync = require(\"./sync.js\");\n\nWindow.Seamless={\n  compile: function(dom){\n    var seamlessElements = dom.querySelectorAll(\"*[data-seamless]\");\n    for (var i=0;i<seamlessElements.length;i++){\n      var el=seamlessElements[i];\n      this.connect(el.dataset.seamless).bindClients(el);\n    }\n  },\n  connection: function(url){\n    return this.connections[md5(url)] || false;\n  },\n  connect: function(url){ // connection object closure\n    var rh = md5(url),\n      dh,\n      Transmit,\n      connection,\n      buffer,\n      InitConnection;\n\n    function handle(data,to){\n      var d,odh=storage.getItem(rh);\n      if (typeof data !== \"string\"){\n        try {\n          d=JSON.stringify(data);\n        }\n        catch(err){\n          throw err;\n        }\n      }\n      else {\n        try{\n          d=data;\n          data=JSON.parse(d);\n        }\n        catch(err){\n          throw err;\n        }\n      }\n      if (!buffer){\n        buffer=data;\n      }\n      var dh=md5(d);\n      if (odh !== dh){\n        buffer=data;\n        storage.removeItem(odh);\n        storage.setItem(dh,d);\n        storage.setItem(rh,dh);\n        to(buffer);\n      }\n    }\n\n    function ToDOM(data){\n      connection.clients.forEach(function(e,i,a){\n        if (e.seamless) e.seamless(data);\n      });\n    }\n\n    if (!(connection=this.connection(url))){\n      if (dh=storage.getItem(rh)){\n        var b;\n        if (b=storage.getItem(dh)){\n          try{\n            buffer=JSON.parse(b);\n          }\n          catch(err){\n            throw err;\n          }\n        }\n      }\n      InitConnection=new Promise(function(success,error){\n        var transmitter;\n        \n        if (Worker){\n          var worker = new Worker(\n            URL.createObjectURL(\n              new Blob(require(\"./worker.js\").code(url))\n            )\n          );\n          worker.onerror = function(e){\n            worker.terminate();\n            console.error(e);\n          };\n          worker.onmessage = function(e){\n            if (e.data != \"false\") {\n              handle(e.data,success);\n            }\n            else {\n              alert(\"Connection lost. Reconnection constantly failing. Try reloading page.\");\n            }\n          };\n          transmitter = function(msg){\n            worker.postMessage(msg);\n          };\n        }\n        else {\n          transmitter = (function(callback){\n            if (!(url.search(/^wss?:\\/\\//i)<0) && WebSocket){\n              return require(\"./socket.js\")(url,callback);\n            }\n            else{\n              return require(\"./poller.js\")(url,callback);\n            }\n          })(function(args){\n            if (args && args != \"false\"){\n              handle(args,success);\n            }\n            else {\n              alert(\"Connection lost. Reconnection constantly failing. Try reloading page.\");\n            }\n          });\n        }\n\n        Transmit=function (data){\n          handle(data,transmitter);\n        };\n      })\n      .then(ToDOM)\n      .catch(function(err){\n        throw err;\n      });\n      connection={\n        url: url,\n        hashes:{\n          url: rh,\n          get data(){\n            return storage.getItem(connection.hashes.url);\n          }\n        },\n        get data(){\n          return buffer;\n        },\n        clients: [],\n        bindClients: function(elems){\n          if (!(elems instanceof Array)) elems=[elems];\n          connection.clients.concat(elems);\n          elems.forEach(function(e,i,a){\n            var e = e;\n            if (buffer){\n              sync(buffer,e,Transmit);\n            }\n            else{\n              e.connecting=InitConnection.then(function(){\n                sync(buffer,e,Transmit);\n                delete e.connecting;\n              })\n              .catch(function(err){throw err});\n            }\n          });\n        },\n        unbindClients: function(elems){\n          if (!elems) elems=connection.clients;\n          if (!(elems instanceof Array)) elems=[elems];\n          elems.forEach(function(e,i,a){\n            var index=connection.clients.indexOf(e);\n            if (index >= 0) {\n              var e = connection.clients.splice(index,1);\n              if (e.deseamless) e.deseamless();\n              else {\n                e.connecting.then(function(element){\n                  element.deseamless();\n                })\n                .catch(function(err){\n                  throw err;\n                });\n              }\n            }\n          });\n        }\n      };\n      this.connections[rh]=connection;\n    }\n    return connection;\n  },\n  disconnect: function(url){\n    this.connection(url).unbindClients();\n    delete this.connection(url);\n  },\n  connections: {},\n};\n\n\nwindow.addEventListener(\"load\",function(){\n  Window.Seamless.compile(document.body);\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/seamless.js\n// module id = 0\n// module chunks = 0","/*  global localStorage, CustomEvent  */\n\n\n\nmodule.exports = function(){\n  function storageAvailable(type) {\n  \ttry {\n  \t\tvar storage = window[type],\n  \t\t\tx = '__storage_test__';\n  \t\tstorage.setItem(x, x);\n  \t\tstorage.removeItem(x);\n  \t\treturn true;\n  \t}\n  \tcatch(e) {\n  \t\treturn false;\n  \t}\n  }\n  if (storageAvailable('localStorage')){\n    return window.localStorage;\n  }\n  else{\n    return Object.defineProperties(new Object(),{\n      'setItem': {\n        value: function(k,v){\n          var e = new CustomEvent('storage',{detail:{\n            key:k,\n            oldValue:this[k],\n            newValue:v,\n            storageArea:this\n          }});\n          this[k] = v;\n          (window || self).dispatchEvent(e);\n          return v;\n        } \n      },\n      'getItem': {\n        value: function(k){\n          return this[k] || null;\n        }\n      },\n      'removeItem': {\n        value: function(k){\n          delete this[k];\n          return this;\n        }\n      },\n      'key': {\n        value: function(n){\n          var i,c=0;\n          for (i in this){\n            if (c==n) return this[i];\n            c++;\n          }\n        }\n      },\n      'clear': {\n        value: function(){\n          var i;\n          for (i in this){\n            this.removeItem(i);\n          }\n          return this;\n        }\n      },\n      'length': {\n        get: function(){\n          var i,c=0;\n          for (i in this){\n            c++;\n          }\n          return c;\n        }\n      }\n    });\n  }\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/storage.js\n// module id = 1\n// module chunks = 0","module.exports = function() {\n\n    function t(e, t) {\n        var n = (e & 65535) + (t & 65535),\n            r = (e >> 16) + (t >> 16) + (n >> 16);\n        return r << 16 | n & 65535\n    }\n\n    function n(e, t) {\n        return e << t | e >>> 32 - t\n    }\n\n    function r(e, r, i, s, o, u) {\n        return t(n(t(t(r, e), t(s, u)), o), i)\n    }\n\n    function i(e, t, n, i, s, o, u) {\n        return r(t & n | ~t & i, e, t, s, o, u)\n    }\n\n    function s(e, t, n, i, s, o, u) {\n        return r(t & i | n & ~i, e, t, s, o, u)\n    }\n\n    function o(e, t, n, i, s, o, u) {\n        return r(t ^ n ^ i, e, t, s, o, u)\n    }\n\n    function u(e, t, n, i, s, o, u) {\n        return r(n ^ (t | ~i), e, t, s, o, u)\n    }\n\n    function a(e, n) {\n        e[n >> 5] |= 128 << n % 32, e[(n + 64 >>> 9 << 4) + 14] = n;\n        var r, a, f, l, c, h = 1732584193,\n            p = -271733879,\n            d = -1732584194,\n            v = 271733878;\n        for (r = 0; r < e.length; r += 16) a = h, f = p, l = d, c = v, h = i(h, p, d, v, e[r], 7, -680876936), v = i(v, h, p, d, e[r + 1], 12, -389564586), d = i(d, v, h, p, e[r + 2], 17, 606105819), p = i(p, d, v, h, e[r + 3], 22, -1044525330), h = i(h, p, d, v, e[r + 4], 7, -176418897), v = i(v, h, p, d, e[r + 5], 12, 1200080426), d = i(d, v, h, p, e[r + 6], 17, -1473231341), p = i(p, d, v, h, e[r + 7], 22, -45705983), h = i(h, p, d, v, e[r + 8], 7, 1770035416), v = i(v, h, p, d, e[r + 9], 12, -1958414417), d = i(d, v, h, p, e[r + 10], 17, -42063), p = i(p, d, v, h, e[r + 11], 22, -1990404162), h = i(h, p, d, v, e[r + 12], 7, 1804603682), v = i(v, h, p, d, e[r + 13], 12, -40341101), d = i(d, v, h, p, e[r + 14], 17, -1502002290), p = i(p, d, v, h, e[r + 15], 22, 1236535329), h = s(h, p, d, v, e[r + 1], 5, -165796510), v = s(v, h, p, d, e[r + 6], 9, -1069501632), d = s(d, v, h, p, e[r + 11], 14, 643717713), p = s(p, d, v, h, e[r], 20, -373897302), h = s(h, p, d, v, e[r + 5], 5, -701558691), v = s(v, h, p, d, e[r + 10], 9, 38016083), d = s(d, v, h, p, e[r + 15], 14, -660478335), p = s(p, d, v, h, e[r + 4], 20, -405537848), h = s(h, p, d, v, e[r + 9], 5, 568446438), v = s(v, h, p, d, e[r + 14], 9, -1019803690), d = s(d, v, h, p, e[r + 3], 14, -187363961), p = s(p, d, v, h, e[r + 8], 20, 1163531501), h = s(h, p, d, v, e[r + 13], 5, -1444681467), v = s(v, h, p, d, e[r + 2], 9, -51403784), d = s(d, v, h, p, e[r + 7], 14, 1735328473), p = s(p, d, v, h, e[r + 12], 20, -1926607734), h = o(h, p, d, v, e[r + 5], 4, -378558), v = o(v, h, p, d, e[r + 8], 11, -2022574463), d = o(d, v, h, p, e[r + 11], 16, 1839030562), p = o(p, d, v, h, e[r + 14], 23, -35309556), h = o(h, p, d, v, e[r + 1], 4, -1530992060), v = o(v, h, p, d, e[r + 4], 11, 1272893353), d = o(d, v, h, p, e[r + 7], 16, -155497632), p = o(p, d, v, h, e[r + 10], 23, -1094730640), h = o(h, p, d, v, e[r + 13], 4, 681279174), v = o(v, h, p, d, e[r], 11, -358537222), d = o(d, v, h, p, e[r + 3], 16, -722521979), p = o(p, d, v, h, e[r + 6], 23, 76029189), h = o(h, p, d, v, e[r + 9], 4, -640364487), v = o(v, h, p, d, e[r + 12], 11, -421815835), d = o(d, v, h, p, e[r + 15], 16, 530742520), p = o(p, d, v, h, e[r + 2], 23, -995338651), h = u(h, p, d, v, e[r], 6, -198630844), v = u(v, h, p, d, e[r + 7], 10, 1126891415), d = u(d, v, h, p, e[r + 14], 15, -1416354905), p = u(p, d, v, h, e[r + 5], 21, -57434055), h = u(h, p, d, v, e[r + 12], 6, 1700485571), v = u(v, h, p, d, e[r + 3], 10, -1894986606), d = u(d, v, h, p, e[r + 10], 15, -1051523), p = u(p, d, v, h, e[r + 1], 21, -2054922799), h = u(h, p, d, v, e[r + 8], 6, 1873313359), v = u(v, h, p, d, e[r + 15], 10, -30611744), d = u(d, v, h, p, e[r + 6], 15, -1560198380), p = u(p, d, v, h, e[r + 13], 21, 1309151649), h = u(h, p, d, v, e[r + 4], 6, -145523070), v = u(v, h, p, d, e[r + 11], 10, -1120210379), d = u(d, v, h, p, e[r + 2], 15, 718787259), p = u(p, d, v, h, e[r + 9], 21, -343485551), h = t(h, a), p = t(p, f), d = t(d, l), v = t(v, c);\n        return [h, p, d, v]\n    }\n\n    function f(e) {\n        var t, n = \"\";\n        for (t = 0; t < e.length * 32; t += 8) n += String.fromCharCode(e[t >> 5] >>> t % 32 & 255);\n        return n\n    }\n\n    function l(e) {\n        var t, n = [];\n        n[(e.length >> 2) - 1] = undefined;\n        for (t = 0; t < n.length; t += 1) n[t] = 0;\n        for (t = 0; t < e.length * 8; t += 8) n[t >> 5] |= (e.charCodeAt(t / 8) & 255) << t % 32;\n        return n\n    }\n\n    function c(e) {\n        return f(a(l(e), e.length * 8))\n    }\n\n    function h(e, t) {\n        var n, r = l(e),\n            i = [],\n            s = [],\n            o;\n        i[15] = s[15] = undefined, r.length > 16 && (r = a(r, e.length * 8));\n        for (n = 0; n < 16; n += 1) i[n] = r[n] ^ 909522486, s[n] = r[n] ^ 1549556828;\n        return o = a(i.concat(l(t)), 512 + t.length * 8), f(a(s.concat(o), 640))\n    }\n\n    function p(e) {\n        var t = \"0123456789abcdef\",\n            n = \"\",\n            r, i;\n        for (i = 0; i < e.length; i += 1) r = e.charCodeAt(i), n += t.charAt(r >>> 4 & 15) + t.charAt(r & 15);\n        return n\n    }\n\n    function d(e) {\n        return unescape(encodeURIComponent(e))\n    }\n\n    function v(e) {\n        return c(d(e))\n    }\n\n    function m(e) {\n        return p(v(e))\n    }\n\n    function g(e, t) {\n        return h(d(e), d(t))\n    }\n\n    function y(e, t) {\n        return p(g(e, t))\n    }\n    return function(e, t, n) {\n        return t ? n ? g(t, e) : y(t, e) : n ? v(e) : m(e)\n    }\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/md5.js\n// module id = 2\n// module chunks = 0","function element(desc){\n    var type = desc||\"\".match(/^[a-z][a-z0-9]*/i)[0];\n    var classes = desc.match(/\\.([a-z][a-z0-9]*)/ig) || [];\n    var id = desc.match(/\\#([a-z][a-z0-9]*)/i) || [];\n    if (type==\"\") return null;\n    var element = document.createElement(type[0]);\n    element.className = ((classes.length>0) ? (classes.join(\" \")) : (\"\")).replace(/\\./g,\"\");\n    element.id = (id.length>0) ? (id[0].replace(/\\#/,\"\")) : (\"\");\n    return element;\n}\n\nmodule.exports = function seamlessSync(data,root,send){\n  var incoming={},base={};\n\n  if (typeof data !== \"object\"){\n    throw new TypeError(\"Wrong argument data type!\");\n  }\n\n  function CastChanges(evt){\n    evt.stopPropagation();\n    send(evt.detail);\n  }\n\n  root.addEventListener(\"seamlessdatachange\",CastChanges);\n\n  function getEls(el,id){\n    var r=[];\n    if (!el.length) el=[el];\n    for (i in el){\n      var e=el[i].querySelectorAll(\"#\"+id);\n      if (e.length==0){\n        e.push(el[i].appendChild(element(\"div#\"+id)));\n      }\n      for (j in e){\n        r.push(e[j]);\n      }\n    }\n    return r;\n  }\n\n  function createKey(k,d,i,b,e){\n    switch(typeof d[k]){\n      case \"number\":\n      case \"string\":\n        var is=function(a){\n          if (b[k] != a){\n            b[k]=a;\n            e.forEach(function(e,idx,ar){\n              if (/input/i.test(e.tagName)) e.value=a;\n              else e.innerText=a;\n            });\n          }\n        }\n        var os=function(a){\n          if (d[k] != a){\n            d[k]=a;\n            e.forEach(function(e,idx,ar){\n              if (/input/i.test(e.tagName)) e.value=a;\n              else e.innerText=a;\n            });\n            var evt=new CustomEvent(\"seamlessdatachange\",{bubbles:true,detail:data});\n            root.dispatchEvent(evt);\n          }\n        }\n        var ig=function(){\n          return b;\n        }\n        Object.defineProperty(i,k,{\n          get: ig,\n          set: is,\n          enumerable: true\n        });\n        // id[k]=v;\n        e.forEach(function(e,idx,ar){\n          if (/input/i.test(e.tagName)){\n            function LocalChange(e){\n              if (e.target == this){\n                os(this.value);\n              }\n            }\n            e.addEventListener(\"change\",LocalChange);\n            e.removeSeamlessCallback=function(){\n              e.removeEventListener(\"change\",LocalChange);\n            };\n          }\n        });\n        break;\n      case \"object\":\n        i[k]={};\n        for (n in d[k]){\n          createKey(n,d[k],i[k],b[k],getEls(e,n));\n        }\n        break;\n      default:\n    }\n  }\n\n  function syncD(k,d,i,b,e){\n    if (!i[k]){\n      createKey(k,d,i,b,e);\n    }\n    switch(typeof d[k]){\n      case \"number\":\n      case \"string\":\n        i[k]=d[k];\n        break;\n      case \"object\":\n        for (n in d[k]){\n          syncD(n,d[k],i[n],b[n],getEls(e,n));\n        }\n        break;\n      default:\n    }\n  }\n\n  function sync(d){\n    for (k in d){\n      syncD(k,d,incoming,base,getEls(root,k));\n    }\n  }\n  sync(data);\n\n  root.seamless = sync;\n  root.deseamless = function(){\n    (function DeSeamlessChild(c){\n      if (c.value){\n        c.removeSeamlessCallback();\n        delete c.removeSeamlessCallback;\n      }\n      for (i in c){\n        DeSeamlessChild(c[i]);\n      }\n    })(root);\n    root.removeEventListener(\"seamlessdatachange\",CastChanges);\n    delete root.seamless;\n    incoming = {};\n    delete root.deseamless;\n  };\n\n  return root;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/sync.js\n// module id = 3\n// module chunks = 0","\nfunction workerFunction(url){\n  var sendToServer;\n  onmessage = function(e){\n    if (sendToServer){\n      sendToServer(e.data || e);\n    }\n    else{\n      postMessage(\"\");\n    }\n  };\n  function respHandler(res){\n    if (res){\n      postMessage(res);\n    }\n    else {postMessage(\"false\")};\n  }\n  if (((/^wss?:\\/\\//i).test(url)) && WebSocket){\n    sendToServer = require(\"./socket.js\")(url,respHandler);\n  }\n  else{\n    sendToServer = require(\"./poller.js\")(url,respHandler);\n  }\n};\n\nmodule.exports.code = function(url){\n  var code = workerFunction.toString();\n  var re = /([a-zA-Z_]*require[_]*)\\(([^()]*)\\)[^({ ;]*/m;\n  var m;\n  while((m = re.exec(code)) !== null){\n    if (m.index === re.lastIndex) re.lastIndex++;\n\n    var p = code.split(m[0]);\n    var i = eval(m[0]+\".toString()\");\n    code = p.join(\"(\"+i+\")\");\n  }\n  return [\"(\" + code + \")(\\\"\"+url+\"\\\")\"];\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/worker.js\n// module id = 4\n// module chunks = 0","module.exports = function(url,Rx){\n  var socket,ct,rt,rc=0,ec=0;\n  (function createConnection(success){\n    socket = new WebSocket(url);\n    ct=setTimeout(socket.close,9000);\n    console.log(\"New connection to \"+url);\n    socket.onclose = function(e){\n      console.log(\"Connection to \"+url+\" closed.\");\n    };\n    socket.onopen = function(e){\n      clearTimeout(ct);\n      rc=0;\n      if (e.data) {\n        Response(e.data);\n      }\n    };\n    socket.onerror = function(err){\n      console.error(err);\n      ec++;\n      if (ec>10) {\n        socket.close();\n        console.log(\"Too many errors. Reconnecting\");\n        ec=0;\n      }\n    };\n    socket.onmessage = function(e){\n      Response(e.data);\n    };\n    function Response(res){\n      success(res);\n    }\n    if (!rt){// WATCHDOG\n      rt=setInterval(\n        function(){\n          if (socket){\n            if (socket.readyState == 3){ // CLOSED\n              createConnection(success);\n              rc++;\n            }\n          }\n          if (rc>5){\n            clearInterval(rt);\n            alert(\"Connection lost. Reconnection constantly failing. Try reloading page.\") ||\n            success(false);\n          }\n        }, 10000);\n    }\n    return function(d){\n      socket.send(\n        (typeof d !== \"string\")?\n        JSON.stringify(d):\n        d\n      )\n    };\n  })(Rx);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/socket.js\n// module id = 5\n// module chunks = 0","module.exports = function(url,Rx){\n  var timer,rc=0,\n  poller;\n\n  function connect(url,data,Receiver){\n    var verb = (!data||data=='')?'GET':'POST';\n    var xhr = new XMLHttpRequest();\n    xhr.addEventListener(\"readystatechange\", function(e){\n      if (this.readyState == 4){\n        if (this.status == 200){\n          Receiver(this.response);\n        }\n        else {\n          this.abort();\n          throw Error(this.status + ': ' +this.response.toString());\n        }\n      }\n    });\n    xhr.addEventListener(\"error\",function(e){\n      this.abort();\n      throw Error(e.type);\n    });\n    xhr.timeout = 30000;\n    xhr.addEventListener(\"timeout\",function(){\n      if ((this.readyState > 0) && (this.readyState < 4))\n        this.abort();\n      throw Error(\"Request timed out!\");\n    });\n  \txhr.responseType = 'json';\n    (xhr.executesession = function(){\n      xhr.open(verb,encodeURI(url),true);\n      xhr.send(data | '');\n    })();\n  };\n\n  url = (url.search(/^https?:\\/\\//i)<0)?\n          url.replace(/^[^:]+:/i,\"http:\"):\n          url;\n\n  (\n    function createConnection(Receiver){\n      timer = setInterval(function(){\n        try {\n          poller = connect(url,'',Receiver);\n        }\n        catch(err) {\n          console.error(err);\n          rc++;\n          if (rc>5){\n            clearTimeout(timer);\n            rc=0;\n            poller = null;\n            alert(\"Connection lost. Reconnection constantly failing. Try reloading page.\") ||\n            Receiver(false);\n          }\n        }\n      }, 3000);\n      function Post(d){\n        connect(url,(typeof d !== \"string\")?JSON.stringify(d):d,Receiver);\n      }\n      return Post;\n    }\n  )(Rx);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/poller.js\n// module id = 6\n// module chunks = 0"],"sourceRoot":""}