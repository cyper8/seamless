{"version":3,"sources":["webpack:///seamless.bundle.js","webpack:///webpack/bootstrap 27fd747286be9b4a6c15","webpack:///./src/seamless.js","webpack:///./src/storage.js","webpack:///./src/md5.js","webpack:///./src/worker.js","webpack:///./src/socket.js","webpack:///./src/poller.js","webpack:///./src/ajax.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","setData","r","d","md5","s","storage","rh","dh","cd","getItem","setItem","removeItem","processResponse","data","window","Seamless","Object","defineProperties","connection","hash","value","get","JSON","parse","this","set","stringify","post","addEndpoint","endpoint","callback","Worker","worker","createConnection","success","URL","createObjectURL","Blob","code","onerror","e","terminate","console","error","onmessage","postMessage","bind","disconnect","reconnect","WebSocket","res","removeEndpoint","storageAvailable","type","x","localStorage","k","v","CustomEvent","detail","key","oldValue","newValue","storageArea","self","dispatchEvent","n","i","clear","length","t","o","u","a","f","l","h","String","fromCharCode","undefined","charCodeAt","concat","charAt","unescape","encodeURIComponent","g","y","workerFunction","url","respHandler","sendToServer","toString","re","exec","index","lastIndex","split","eval","join","Response","socket","send","close","onopen","log","timer","poller","connect","Result","responce","Post","clearInterval","setInterval","err","verb","xhr","XMLHttpRequest","addEventListener","readyState","status","response","timeout","abort","responseType","executesession","open","encodeURI"],"mappings":"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","file":"seamless.bundle.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* global URL, Blob, Worker */\n\t//var getWorkerCode = require(\"worker.js\");\n\tvar storage = __webpack_require__(1)(),\n\t  md5 = __webpack_require__(2)();\n\t  \n\tfunction setData(r,d){\n\t  var m=md5,s=storage;\n\t  var rh = r; //current route hash\n\t  var dh = m(d); //new data hash\n\t  var cd = s.getItem(rh); //old data hash\n\t  if (cd == null){  //no data for route\n\t    s.setItem(rh,dh);\n\t    s.setItem(dh,d);\n\t  }\n\t  else if (cd == dh) return cd; //data not changed\n\t  else {                          //\n\t    s.removeItem(cd);       //rm old data\n\t    s.setItem(rh,dh);       //correct pointer\n\t    s.setItem(dh,d);        //correct data\n\t  }\n\t  return dh;            // return data hash\n\t}\n\t\n\tfunction processResponse(rh,r){\n\t  var dh = setData(rh,r.data);\n\t  return window.Seamless[rh] = Object.defineProperties(\n\t    {\n\t      connection: r.connection\n\t    },\n\t    {\n\t      hash: {\n\t        value: dh\n\t      },\n\t      data:{\n\t        get: function(){\n\t          return JSON.parse(storage.getItem(this.hash));\n\t        },\n\t        set: function(d){\n\t          var data = (typeof d !== \"string\")?\n\t            (JSON.stringify(d)):\n\t            d;\n\t          r.post(data);\n\t        }\n\t      },\n\t    }\n\t  );\n\t}\n\t  \n\twindow.Seamless = {\n\t  addEndpoint:function(endpoint,callback){\n\t    var rh = md5(endpoint);\n\t    \n\t    if (window.Seamless[rh]) {\n\t      callback(window.Seamless[rh]);\n\t    }\n\t    else if (Worker) {\n\t      var worker;\n\t//      return new Promise(\n\t        (function createConnection(success){\n\t          worker = new Worker(\n\t            URL.createObjectURL(\n\t              new Blob(__webpack_require__(3).code(endpoint))\n\t            )\n\t          );\n\t          worker.onerror = function(e){\n\t            worker.terminate();\n\t            console.error(e);\n\t          };\n\t          worker.onmessage = function(e){\n\t            success(processResponse(rh,{\n\t              data: e.data,\n\t              post: worker.postMessage.bind(worker),\n\t              connection: {\n\t                disconnect: worker.terminate,\n\t                reconnect: function(){\n\t                  worker.terminate();\n\t                  createConnection(success);\n\t                }\n\t              }\n\t            }));\n\t          };\n\t        })(callback);\n\t//      )\n\t//      .then(callback)\n\t//      .catch(function(err){\n\t//        console.error(err);\n\t//      });\n\t    }\n\t    else {\n\t      (function(success){\n\t        if (WebSocket){\n\t          __webpack_require__(4)(endpoint,success);\n\t        }\n\t        else {\n\t          __webpack_require__(5)(endpoint,success);\n\t        }\n\t      })(function(res){\n\t        callback(processResponse(rh,res));\n\t      });\n\t    }\n\t  },\n\t  removeEndpoint:function(endpoint){\n\t    delete window.Seamless[md5(endpoint)];\n\t  }\n\t};\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n\t/*  global localStorage, CustomEvent  */\n\t\n\t\n\t\n\tmodule.exports = function(){\n\t  function storageAvailable(type) {\n\t  \ttry {\n\t  \t\tvar storage = window[type],\n\t  \t\t\tx = '__storage_test__';\n\t  \t\tstorage.setItem(x, x);\n\t  \t\tstorage.removeItem(x);\n\t  \t\treturn true;\n\t  \t}\n\t  \tcatch(e) {\n\t  \t\treturn false;\n\t  \t}\n\t  }\n\t  if (storageAvailable('localStorage')){\n\t    return window.localStorage;\n\t  }\n\t  else{\n\t    return Object.defineProperties(new Object(),{\n\t      'setItem': {\n\t        value: function(k,v){\n\t          var e = new CustomEvent('storage',{detail:{\n\t            key:k,\n\t            oldValue:this[k],\n\t            newValue:v,\n\t            storageArea:this\n\t          }});\n\t          this[k] = v;\n\t          (window || self).dispatchEvent(e);\n\t          return v;\n\t        } \n\t      },\n\t      'getItem': {\n\t        value: function(k){\n\t          return this[k] || null;\n\t        }\n\t      },\n\t      'removeItem': {\n\t        value: function(k){\n\t          delete this[k];\n\t          return this;\n\t        }\n\t      },\n\t      'key': {\n\t        value: function(n){\n\t          var i,c=0;\n\t          for (i in this){\n\t            if (c==n) return this[i];\n\t            c++;\n\t          }\n\t        }\n\t      },\n\t      'clear': {\n\t        value: function(){\n\t          var i;\n\t          for (i in this){\n\t            this.removeItem(i);\n\t          }\n\t          return this;\n\t        }\n\t      },\n\t      'length': {\n\t        get: function(){\n\t          var i,c=0;\n\t          for (i in this){\n\t            c++;\n\t          }\n\t          return c;\n\t        }\n\t      }\n\t    });\n\t  }\n\t};\n\n/***/ },\n/* 2 */\n/***/ function(module, exports) {\n\n\tmodule.exports = function() {\n\t\n\t    function t(e, t) {\n\t        var n = (e & 65535) + (t & 65535),\n\t            r = (e >> 16) + (t >> 16) + (n >> 16);\n\t        return r << 16 | n & 65535\n\t    }\n\t\n\t    function n(e, t) {\n\t        return e << t | e >>> 32 - t\n\t    }\n\t\n\t    function r(e, r, i, s, o, u) {\n\t        return t(n(t(t(r, e), t(s, u)), o), i)\n\t    }\n\t\n\t    function i(e, t, n, i, s, o, u) {\n\t        return r(t & n | ~t & i, e, t, s, o, u)\n\t    }\n\t\n\t    function s(e, t, n, i, s, o, u) {\n\t        return r(t & i | n & ~i, e, t, s, o, u)\n\t    }\n\t\n\t    function o(e, t, n, i, s, o, u) {\n\t        return r(t ^ n ^ i, e, t, s, o, u)\n\t    }\n\t\n\t    function u(e, t, n, i, s, o, u) {\n\t        return r(n ^ (t | ~i), e, t, s, o, u)\n\t    }\n\t\n\t    function a(e, n) {\n\t        e[n >> 5] |= 128 << n % 32, e[(n + 64 >>> 9 << 4) + 14] = n;\n\t        var r, a, f, l, c, h = 1732584193,\n\t            p = -271733879,\n\t            d = -1732584194,\n\t            v = 271733878;\n\t        for (r = 0; r < e.length; r += 16) a = h, f = p, l = d, c = v, h = i(h, p, d, v, e[r], 7, -680876936), v = i(v, h, p, d, e[r + 1], 12, -389564586), d = i(d, v, h, p, e[r + 2], 17, 606105819), p = i(p, d, v, h, e[r + 3], 22, -1044525330), h = i(h, p, d, v, e[r + 4], 7, -176418897), v = i(v, h, p, d, e[r + 5], 12, 1200080426), d = i(d, v, h, p, e[r + 6], 17, -1473231341), p = i(p, d, v, h, e[r + 7], 22, -45705983), h = i(h, p, d, v, e[r + 8], 7, 1770035416), v = i(v, h, p, d, e[r + 9], 12, -1958414417), d = i(d, v, h, p, e[r + 10], 17, -42063), p = i(p, d, v, h, e[r + 11], 22, -1990404162), h = i(h, p, d, v, e[r + 12], 7, 1804603682), v = i(v, h, p, d, e[r + 13], 12, -40341101), d = i(d, v, h, p, e[r + 14], 17, -1502002290), p = i(p, d, v, h, e[r + 15], 22, 1236535329), h = s(h, p, d, v, e[r + 1], 5, -165796510), v = s(v, h, p, d, e[r + 6], 9, -1069501632), d = s(d, v, h, p, e[r + 11], 14, 643717713), p = s(p, d, v, h, e[r], 20, -373897302), h = s(h, p, d, v, e[r + 5], 5, -701558691), v = s(v, h, p, d, e[r + 10], 9, 38016083), d = s(d, v, h, p, e[r + 15], 14, -660478335), p = s(p, d, v, h, e[r + 4], 20, -405537848), h = s(h, p, d, v, e[r + 9], 5, 568446438), v = s(v, h, p, d, e[r + 14], 9, -1019803690), d = s(d, v, h, p, e[r + 3], 14, -187363961), p = s(p, d, v, h, e[r + 8], 20, 1163531501), h = s(h, p, d, v, e[r + 13], 5, -1444681467), v = s(v, h, p, d, e[r + 2], 9, -51403784), d = s(d, v, h, p, e[r + 7], 14, 1735328473), p = s(p, d, v, h, e[r + 12], 20, -1926607734), h = o(h, p, d, v, e[r + 5], 4, -378558), v = o(v, h, p, d, e[r + 8], 11, -2022574463), d = o(d, v, h, p, e[r + 11], 16, 1839030562), p = o(p, d, v, h, e[r + 14], 23, -35309556), h = o(h, p, d, v, e[r + 1], 4, -1530992060), v = o(v, h, p, d, e[r + 4], 11, 1272893353), d = o(d, v, h, p, e[r + 7], 16, -155497632), p = o(p, d, v, h, e[r + 10], 23, -1094730640), h = o(h, p, d, v, e[r + 13], 4, 681279174), v = o(v, h, p, d, e[r], 11, -358537222), d = o(d, v, h, p, e[r + 3], 16, -722521979), p = o(p, d, v, h, e[r + 6], 23, 76029189), h = o(h, p, d, v, e[r + 9], 4, -640364487), v = o(v, h, p, d, e[r + 12], 11, -421815835), d = o(d, v, h, p, e[r + 15], 16, 530742520), p = o(p, d, v, h, e[r + 2], 23, -995338651), h = u(h, p, d, v, e[r], 6, -198630844), v = u(v, h, p, d, e[r + 7], 10, 1126891415), d = u(d, v, h, p, e[r + 14], 15, -1416354905), p = u(p, d, v, h, e[r + 5], 21, -57434055), h = u(h, p, d, v, e[r + 12], 6, 1700485571), v = u(v, h, p, d, e[r + 3], 10, -1894986606), d = u(d, v, h, p, e[r + 10], 15, -1051523), p = u(p, d, v, h, e[r + 1], 21, -2054922799), h = u(h, p, d, v, e[r + 8], 6, 1873313359), v = u(v, h, p, d, e[r + 15], 10, -30611744), d = u(d, v, h, p, e[r + 6], 15, -1560198380), p = u(p, d, v, h, e[r + 13], 21, 1309151649), h = u(h, p, d, v, e[r + 4], 6, -145523070), v = u(v, h, p, d, e[r + 11], 10, -1120210379), d = u(d, v, h, p, e[r + 2], 15, 718787259), p = u(p, d, v, h, e[r + 9], 21, -343485551), h = t(h, a), p = t(p, f), d = t(d, l), v = t(v, c);\n\t        return [h, p, d, v]\n\t    }\n\t\n\t    function f(e) {\n\t        var t, n = \"\";\n\t        for (t = 0; t < e.length * 32; t += 8) n += String.fromCharCode(e[t >> 5] >>> t % 32 & 255);\n\t        return n\n\t    }\n\t\n\t    function l(e) {\n\t        var t, n = [];\n\t        n[(e.length >> 2) - 1] = undefined;\n\t        for (t = 0; t < n.length; t += 1) n[t] = 0;\n\t        for (t = 0; t < e.length * 8; t += 8) n[t >> 5] |= (e.charCodeAt(t / 8) & 255) << t % 32;\n\t        return n\n\t    }\n\t\n\t    function c(e) {\n\t        return f(a(l(e), e.length * 8))\n\t    }\n\t\n\t    function h(e, t) {\n\t        var n, r = l(e),\n\t            i = [],\n\t            s = [],\n\t            o;\n\t        i[15] = s[15] = undefined, r.length > 16 && (r = a(r, e.length * 8));\n\t        for (n = 0; n < 16; n += 1) i[n] = r[n] ^ 909522486, s[n] = r[n] ^ 1549556828;\n\t        return o = a(i.concat(l(t)), 512 + t.length * 8), f(a(s.concat(o), 640))\n\t    }\n\t\n\t    function p(e) {\n\t        var t = \"0123456789abcdef\",\n\t            n = \"\",\n\t            r, i;\n\t        for (i = 0; i < e.length; i += 1) r = e.charCodeAt(i), n += t.charAt(r >>> 4 & 15) + t.charAt(r & 15);\n\t        return n\n\t    }\n\t\n\t    function d(e) {\n\t        return unescape(encodeURIComponent(e))\n\t    }\n\t\n\t    function v(e) {\n\t        return c(d(e))\n\t    }\n\t\n\t    function m(e) {\n\t        return p(v(e))\n\t    }\n\t\n\t    function g(e, t) {\n\t        return h(d(e), d(t))\n\t    }\n\t\n\t    function y(e, t) {\n\t        return p(g(e, t))\n\t    }\n\t    return function(e, t, n) {\n\t        return t ? n ? g(t, e) : y(t, e) : n ? v(e) : m(e)\n\t    }\n\t}\n\n/***/ },\n/* 3 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\n\tfunction workerFunction(url){\n\t  var sendToServer;\n\t  onmessage = function(e){\n\t    if (sendToServer){\n\t      sendToServer(e.data || e);\n\t    }\n\t    else{\n\t      postMessage(null);\n\t    }\n\t  };\n\t  function respHandler(res){\n\t    sendToServer = res.post;\n\t    postMessage(res.data);\n\t  }\n\t  if (WebSocket){\n\t    __webpack_require__(4)(url,respHandler);\n\t  }\n\t  else{\n\t    __webpack_require__(5)(url,respHandler);\n\t  }\n\t};\n\t\n\tmodule.exports.code = function(url){\n\t  var code = workerFunction.toString();\n\t  var re = /([a-zA-Z_]*require[_]*)\\(([^()]*)\\)[^({ ;]*/m;\n\t  var m;\n\t  while((m = re.exec(code)) !== null){\n\t    if (m.index === re.lastIndex) re.lastIndex++;\n\t    \n\t    var p = code.split(m[0]);\n\t    var i = eval(m[0]+\".toString()\");\n\t    code = p.join(\"(\"+i+\")\");\n\t  }\n\t  return [\"(\" + code + \")(\\\"\"+url+\"\\\")\"];\n\t};\n\n\n/***/ },\n/* 4 */\n/***/ function(module, exports) {\n\n\tmodule.exports = function(url,callback){\n\t  var callback = callback;\n\t  (function createConnection(success){\n\t    var socket = new WebSocket(url);\n\t    socket.onopen = function(e){\n\t      if (e.data) {\n\t        console.log(\"worker: websocket: \"+e.data);\n\t        Response(e.data);\n\t      }\n\t    };\n\t    socket.onerror = console.error;\n\t    socket.onmessage = function(e){\n\t      Response(e.data);\n\t    };\n\t    function Response(res){\n\t      success({\n\t        data: res,\n\t        post: socket.send.bind(socket),\n\t        connection: {\n\t          disconnect: socket.close,\n\t          reconnect: function(){\n\t            socket.close();\n\t            createConnection(success);\n\t          }\n\t        }\n\t      });\n\t    }\n\t  })(callback);\n\t};\n\n/***/ },\n/* 5 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = function(url,callback){\n\t  var callback = callback;\n\t  var connect = __webpack_require__(6);\n\t  var timer,\n\t  poller;\n\t  (\n\t    function createConnection(success){\n\t      timer = setInterval(function(){\n\t        try {\n\t          poller = connect(url,'',Result)\n\t        }\n\t        catch(err) {\n\t          console.error(err);\n\t        }\n\t      }, 3000);\n\t      function Result(responce){\n\t        return success({\n\t          data: responce,\n\t          post: Post.bind(this),\n\t          connection: {\n\t            disconnect: function(){\n\t              clearInterval(timer);\n\t              poller = null;\n\t            },\n\t            reconnect: function(){\n\t              clearInterval(timer);\n\t              poller = null;\n\t              createConnection(success);\n\t            }\n\t          }\n\t        });\n\t      }\n\t      function Post(d){\n\t        connect(url,d,callback);\n\t      }\n\t    }\n\t  )(callback);\n\t};\n\n/***/ },\n/* 6 */\n/***/ function(module, exports) {\n\n\tmodule.exports = function (url,data,callback){\n\t  var verb = (!data||data=='')?'GET':'POST';\n\t\n\t  var xhr = new XMLHttpRequest();\n\t  xhr.addEventListener(\"readystatechange\", function(e){\n\t    if (this.readyState == 4){\n\t      if (this.status == 200){\n\t        callback(this.response);\n\t      }\n\t      else {\n\t        console.error(this.status + ': ' +this.response.toString());\n\t      }\n\t    }\n\t  });\n\t  xhr.timeout = 30000;\n\t  xhr.addEventListener(\"timeout\",function(){\n\t    if ((this.readyState > 0) && (this.readyState < 4))\n\t      this.abort();\n\t    console.error('Request timed out');\n\t  });\n\t\txhr.responseType = 'json';\n\t  (xhr.executesession = function(){\n\t    if (data == '')\n\t    xhr.open(verb,encodeURI(url),true);\n\t    // if (xhr.request.headers) {\n\t    //   for (h in xhr.request.headers) {\n\t    //     xhr.setRequestHeader(h,xhr.request.headers[h]);\n\t    //   }\n\t    // }\n\t    xhr.send(data | '');\n\t  })();\n\t};\n\n/***/ }\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// seamless.bundle.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 27fd747286be9b4a6c15","/* global URL, Blob, Worker */\n//var getWorkerCode = require(\"worker.js\");\nvar storage = require(\"./storage.js\")(),\n  md5 = require(\"./md5.js\")();\n  \nfunction setData(r,d){\n  var m=md5,s=storage;\n  var rh = r; //current route hash\n  var dh = m(d); //new data hash\n  var cd = s.getItem(rh); //old data hash\n  if (cd == null){  //no data for route\n    s.setItem(rh,dh);\n    s.setItem(dh,d);\n  }\n  else if (cd == dh) return cd; //data not changed\n  else {                          //\n    s.removeItem(cd);       //rm old data\n    s.setItem(rh,dh);       //correct pointer\n    s.setItem(dh,d);        //correct data\n  }\n  return dh;            // return data hash\n}\n\nfunction processResponse(rh,r){\n  var dh = setData(rh,r.data);\n  return window.Seamless[rh] = Object.defineProperties(\n    {\n      connection: r.connection\n    },\n    {\n      hash: {\n        value: dh\n      },\n      data:{\n        get: function(){\n          return JSON.parse(storage.getItem(this.hash));\n        },\n        set: function(d){\n          var data = (typeof d !== \"string\")?\n            (JSON.stringify(d)):\n            d;\n          r.post(data);\n        }\n      },\n    }\n  );\n}\n  \nwindow.Seamless = {\n  addEndpoint:function(endpoint,callback){\n    var rh = md5(endpoint);\n    \n    if (window.Seamless[rh]) {\n      callback(window.Seamless[rh]);\n    }\n    else if (Worker) {\n      var worker;\n//      return new Promise(\n        (function createConnection(success){\n          worker = new Worker(\n            URL.createObjectURL(\n              new Blob(require(\"./worker.js\").code(endpoint))\n            )\n          );\n          worker.onerror = function(e){\n            worker.terminate();\n            console.error(e);\n          };\n          worker.onmessage = function(e){\n            success(processResponse(rh,{\n              data: e.data,\n              post: worker.postMessage.bind(worker),\n              connection: {\n                disconnect: worker.terminate,\n                reconnect: function(){\n                  worker.terminate();\n                  createConnection(success);\n                }\n              }\n            }));\n          };\n        })(callback);\n//      )\n//      .then(callback)\n//      .catch(function(err){\n//        console.error(err);\n//      });\n    }\n    else {\n      (function(success){\n        if (WebSocket){\n          require(\"./socket.js\")(endpoint,success);\n        }\n        else {\n          require(\"./poller.js\")(endpoint,success);\n        }\n      })(function(res){\n        callback(processResponse(rh,res));\n      });\n    }\n  },\n  removeEndpoint:function(endpoint){\n    delete window.Seamless[md5(endpoint)];\n  }\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/seamless.js\n// module id = 0\n// module chunks = 0","/*  global localStorage, CustomEvent  */\n\n\n\nmodule.exports = function(){\n  function storageAvailable(type) {\n  \ttry {\n  \t\tvar storage = window[type],\n  \t\t\tx = '__storage_test__';\n  \t\tstorage.setItem(x, x);\n  \t\tstorage.removeItem(x);\n  \t\treturn true;\n  \t}\n  \tcatch(e) {\n  \t\treturn false;\n  \t}\n  }\n  if (storageAvailable('localStorage')){\n    return window.localStorage;\n  }\n  else{\n    return Object.defineProperties(new Object(),{\n      'setItem': {\n        value: function(k,v){\n          var e = new CustomEvent('storage',{detail:{\n            key:k,\n            oldValue:this[k],\n            newValue:v,\n            storageArea:this\n          }});\n          this[k] = v;\n          (window || self).dispatchEvent(e);\n          return v;\n        } \n      },\n      'getItem': {\n        value: function(k){\n          return this[k] || null;\n        }\n      },\n      'removeItem': {\n        value: function(k){\n          delete this[k];\n          return this;\n        }\n      },\n      'key': {\n        value: function(n){\n          var i,c=0;\n          for (i in this){\n            if (c==n) return this[i];\n            c++;\n          }\n        }\n      },\n      'clear': {\n        value: function(){\n          var i;\n          for (i in this){\n            this.removeItem(i);\n          }\n          return this;\n        }\n      },\n      'length': {\n        get: function(){\n          var i,c=0;\n          for (i in this){\n            c++;\n          }\n          return c;\n        }\n      }\n    });\n  }\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/storage.js\n// module id = 1\n// module chunks = 0","module.exports = function() {\n\n    function t(e, t) {\n        var n = (e & 65535) + (t & 65535),\n            r = (e >> 16) + (t >> 16) + (n >> 16);\n        return r << 16 | n & 65535\n    }\n\n    function n(e, t) {\n        return e << t | e >>> 32 - t\n    }\n\n    function r(e, r, i, s, o, u) {\n        return t(n(t(t(r, e), t(s, u)), o), i)\n    }\n\n    function i(e, t, n, i, s, o, u) {\n        return r(t & n | ~t & i, e, t, s, o, u)\n    }\n\n    function s(e, t, n, i, s, o, u) {\n        return r(t & i | n & ~i, e, t, s, o, u)\n    }\n\n    function o(e, t, n, i, s, o, u) {\n        return r(t ^ n ^ i, e, t, s, o, u)\n    }\n\n    function u(e, t, n, i, s, o, u) {\n        return r(n ^ (t | ~i), e, t, s, o, u)\n    }\n\n    function a(e, n) {\n        e[n >> 5] |= 128 << n % 32, e[(n + 64 >>> 9 << 4) + 14] = n;\n        var r, a, f, l, c, h = 1732584193,\n            p = -271733879,\n            d = -1732584194,\n            v = 271733878;\n        for (r = 0; r < e.length; r += 16) a = h, f = p, l = d, c = v, h = i(h, p, d, v, e[r], 7, -680876936), v = i(v, h, p, d, e[r + 1], 12, -389564586), d = i(d, v, h, p, e[r + 2], 17, 606105819), p = i(p, d, v, h, e[r + 3], 22, -1044525330), h = i(h, p, d, v, e[r + 4], 7, -176418897), v = i(v, h, p, d, e[r + 5], 12, 1200080426), d = i(d, v, h, p, e[r + 6], 17, -1473231341), p = i(p, d, v, h, e[r + 7], 22, -45705983), h = i(h, p, d, v, e[r + 8], 7, 1770035416), v = i(v, h, p, d, e[r + 9], 12, -1958414417), d = i(d, v, h, p, e[r + 10], 17, -42063), p = i(p, d, v, h, e[r + 11], 22, -1990404162), h = i(h, p, d, v, e[r + 12], 7, 1804603682), v = i(v, h, p, d, e[r + 13], 12, -40341101), d = i(d, v, h, p, e[r + 14], 17, -1502002290), p = i(p, d, v, h, e[r + 15], 22, 1236535329), h = s(h, p, d, v, e[r + 1], 5, -165796510), v = s(v, h, p, d, e[r + 6], 9, -1069501632), d = s(d, v, h, p, e[r + 11], 14, 643717713), p = s(p, d, v, h, e[r], 20, -373897302), h = s(h, p, d, v, e[r + 5], 5, -701558691), v = s(v, h, p, d, e[r + 10], 9, 38016083), d = s(d, v, h, p, e[r + 15], 14, -660478335), p = s(p, d, v, h, e[r + 4], 20, -405537848), h = s(h, p, d, v, e[r + 9], 5, 568446438), v = s(v, h, p, d, e[r + 14], 9, -1019803690), d = s(d, v, h, p, e[r + 3], 14, -187363961), p = s(p, d, v, h, e[r + 8], 20, 1163531501), h = s(h, p, d, v, e[r + 13], 5, -1444681467), v = s(v, h, p, d, e[r + 2], 9, -51403784), d = s(d, v, h, p, e[r + 7], 14, 1735328473), p = s(p, d, v, h, e[r + 12], 20, -1926607734), h = o(h, p, d, v, e[r + 5], 4, -378558), v = o(v, h, p, d, e[r + 8], 11, -2022574463), d = o(d, v, h, p, e[r + 11], 16, 1839030562), p = o(p, d, v, h, e[r + 14], 23, -35309556), h = o(h, p, d, v, e[r + 1], 4, -1530992060), v = o(v, h, p, d, e[r + 4], 11, 1272893353), d = o(d, v, h, p, e[r + 7], 16, -155497632), p = o(p, d, v, h, e[r + 10], 23, -1094730640), h = o(h, p, d, v, e[r + 13], 4, 681279174), v = o(v, h, p, d, e[r], 11, -358537222), d = o(d, v, h, p, e[r + 3], 16, -722521979), p = o(p, d, v, h, e[r + 6], 23, 76029189), h = o(h, p, d, v, e[r + 9], 4, -640364487), v = o(v, h, p, d, e[r + 12], 11, -421815835), d = o(d, v, h, p, e[r + 15], 16, 530742520), p = o(p, d, v, h, e[r + 2], 23, -995338651), h = u(h, p, d, v, e[r], 6, -198630844), v = u(v, h, p, d, e[r + 7], 10, 1126891415), d = u(d, v, h, p, e[r + 14], 15, -1416354905), p = u(p, d, v, h, e[r + 5], 21, -57434055), h = u(h, p, d, v, e[r + 12], 6, 1700485571), v = u(v, h, p, d, e[r + 3], 10, -1894986606), d = u(d, v, h, p, e[r + 10], 15, -1051523), p = u(p, d, v, h, e[r + 1], 21, -2054922799), h = u(h, p, d, v, e[r + 8], 6, 1873313359), v = u(v, h, p, d, e[r + 15], 10, -30611744), d = u(d, v, h, p, e[r + 6], 15, -1560198380), p = u(p, d, v, h, e[r + 13], 21, 1309151649), h = u(h, p, d, v, e[r + 4], 6, -145523070), v = u(v, h, p, d, e[r + 11], 10, -1120210379), d = u(d, v, h, p, e[r + 2], 15, 718787259), p = u(p, d, v, h, e[r + 9], 21, -343485551), h = t(h, a), p = t(p, f), d = t(d, l), v = t(v, c);\n        return [h, p, d, v]\n    }\n\n    function f(e) {\n        var t, n = \"\";\n        for (t = 0; t < e.length * 32; t += 8) n += String.fromCharCode(e[t >> 5] >>> t % 32 & 255);\n        return n\n    }\n\n    function l(e) {\n        var t, n = [];\n        n[(e.length >> 2) - 1] = undefined;\n        for (t = 0; t < n.length; t += 1) n[t] = 0;\n        for (t = 0; t < e.length * 8; t += 8) n[t >> 5] |= (e.charCodeAt(t / 8) & 255) << t % 32;\n        return n\n    }\n\n    function c(e) {\n        return f(a(l(e), e.length * 8))\n    }\n\n    function h(e, t) {\n        var n, r = l(e),\n            i = [],\n            s = [],\n            o;\n        i[15] = s[15] = undefined, r.length > 16 && (r = a(r, e.length * 8));\n        for (n = 0; n < 16; n += 1) i[n] = r[n] ^ 909522486, s[n] = r[n] ^ 1549556828;\n        return o = a(i.concat(l(t)), 512 + t.length * 8), f(a(s.concat(o), 640))\n    }\n\n    function p(e) {\n        var t = \"0123456789abcdef\",\n            n = \"\",\n            r, i;\n        for (i = 0; i < e.length; i += 1) r = e.charCodeAt(i), n += t.charAt(r >>> 4 & 15) + t.charAt(r & 15);\n        return n\n    }\n\n    function d(e) {\n        return unescape(encodeURIComponent(e))\n    }\n\n    function v(e) {\n        return c(d(e))\n    }\n\n    function m(e) {\n        return p(v(e))\n    }\n\n    function g(e, t) {\n        return h(d(e), d(t))\n    }\n\n    function y(e, t) {\n        return p(g(e, t))\n    }\n    return function(e, t, n) {\n        return t ? n ? g(t, e) : y(t, e) : n ? v(e) : m(e)\n    }\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/md5.js\n// module id = 2\n// module chunks = 0","\nfunction workerFunction(url){\n  var sendToServer;\n  onmessage = function(e){\n    if (sendToServer){\n      sendToServer(e.data || e);\n    }\n    else{\n      postMessage(null);\n    }\n  };\n  function respHandler(res){\n    sendToServer = res.post;\n    postMessage(res.data);\n  }\n  if (WebSocket){\n    require(\"./socket.js\")(url,respHandler);\n  }\n  else{\n    require(\"./poller.js\")(url,respHandler);\n  }\n};\n\nmodule.exports.code = function(url){\n  var code = workerFunction.toString();\n  var re = /([a-zA-Z_]*require[_]*)\\(([^()]*)\\)[^({ ;]*/m;\n  var m;\n  while((m = re.exec(code)) !== null){\n    if (m.index === re.lastIndex) re.lastIndex++;\n    \n    var p = code.split(m[0]);\n    var i = eval(m[0]+\".toString()\");\n    code = p.join(\"(\"+i+\")\");\n  }\n  return [\"(\" + code + \")(\\\"\"+url+\"\\\")\"];\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/worker.js\n// module id = 3\n// module chunks = 0","module.exports = function(url,callback){\n  var callback = callback;\n  (function createConnection(success){\n    var socket = new WebSocket(url);\n    socket.onopen = function(e){\n      if (e.data) {\n        console.log(\"worker: websocket: \"+e.data);\n        Response(e.data);\n      }\n    };\n    socket.onerror = console.error;\n    socket.onmessage = function(e){\n      Response(e.data);\n    };\n    function Response(res){\n      success({\n        data: res,\n        post: socket.send.bind(socket),\n        connection: {\n          disconnect: socket.close,\n          reconnect: function(){\n            socket.close();\n            createConnection(success);\n          }\n        }\n      });\n    }\n  })(callback);\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/socket.js\n// module id = 4\n// module chunks = 0","module.exports = function(url,callback){\n  var callback = callback;\n  var connect = require(\"./ajax.js\");\n  var timer,\n  poller;\n  (\n    function createConnection(success){\n      timer = setInterval(function(){\n        try {\n          poller = connect(url,'',Result)\n        }\n        catch(err) {\n          console.error(err);\n        }\n      }, 3000);\n      function Result(responce){\n        return success({\n          data: responce,\n          post: Post.bind(this),\n          connection: {\n            disconnect: function(){\n              clearInterval(timer);\n              poller = null;\n            },\n            reconnect: function(){\n              clearInterval(timer);\n              poller = null;\n              createConnection(success);\n            }\n          }\n        });\n      }\n      function Post(d){\n        connect(url,d,callback);\n      }\n    }\n  )(callback);\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/poller.js\n// module id = 5\n// module chunks = 0","module.exports = function (url,data,callback){\n  var verb = (!data||data=='')?'GET':'POST';\n\n  var xhr = new XMLHttpRequest();\n  xhr.addEventListener(\"readystatechange\", function(e){\n    if (this.readyState == 4){\n      if (this.status == 200){\n        callback(this.response);\n      }\n      else {\n        console.error(this.status + ': ' +this.response.toString());\n      }\n    }\n  });\n  xhr.timeout = 30000;\n  xhr.addEventListener(\"timeout\",function(){\n    if ((this.readyState > 0) && (this.readyState < 4))\n      this.abort();\n    console.error('Request timed out');\n  });\n\txhr.responseType = 'json';\n  (xhr.executesession = function(){\n    if (data == '')\n    xhr.open(verb,encodeURI(url),true);\n    // if (xhr.request.headers) {\n    //   for (h in xhr.request.headers) {\n    //     xhr.setRequestHeader(h,xhr.request.headers[h]);\n    //   }\n    // }\n    xhr.send(data | '');\n  })();\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/ajax.js\n// module id = 6\n// module chunks = 0"],"sourceRoot":""}